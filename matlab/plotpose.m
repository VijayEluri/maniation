function retval = plotpose(result)

    fixedbodies = 1;
  % restquat = [        % for articulated.xml
  %     -0.27060    -0.65328    0.65328     0.27060     0   % Bone1
  %     -0.70711    0.70711     0           0           1   % Bone2
  % ]'; %                                               ^^----- index of parent

    restquat = [        % for alfred
        +0.000000   -0.000000   -0.000000   +1.000000     0   % Base          1
        -0.000000   +0.000000   -0.705668   -0.708543     1   % Spine1        2
        +0.999998   +0.002033   +0.000000   +0.000000     2   % Spine2        3
        +0.195382   -0.645263   -0.738513   -0.007751     3   % Torso.L       4
        +0.626687   +0.005256   +0.770144   -0.118802     4   % Shoulder.L    5
        -0.534155   +0.330786   -0.318224   +0.709924     5   % UpperArm.L    6
        +0.994246   +0.102507   -0.009288   +0.029676     6   % LowerArm.L    7
        +0.717427   -0.065710   -0.692548   +0.036841     7   % Hand.L        8
        +0.996229   -0.030891   -0.055773   +0.058854     8   % Fingers.L     9
        +0.197829   -0.642723   +0.740056   +0.009375     3   % Torso.R       10
        +0.641220   -0.019435   -0.755040   +0.135551     10  % Shoulder.R    11
        +0.531219   -0.372946   -0.343570   +0.678732     11  % UpperArm.R    12
        +0.984621   +0.171220   -0.003730   -0.034524     12  % LowerArm.R    13
        +0.693680   -0.089964   +0.712696   -0.052710     13  % Hand.R        14
        +0.997558   -0.014731   +0.020365   -0.065161     14  % Fingers.R     15
        +0.993830   -0.110917   +0.000000   +0.000000     3   % Torso         16
        +0.929278   +0.369382   +0.000000   +0.000000     16  % Head          17
        -0.540354   -0.115372   +0.314270   -0.771972     1   % Hip.L         18
        +0.740932   -0.361061   -0.335299   +0.456321     18  % UpperLeg.L    19
        +0.996199   +0.085159   +0.016200   -0.008495     19  % LowerLeg.L    20
        +0.697675   -0.544561   +0.342134   -0.315671     20  % Foot.L        21
        +0.547550   +0.114376   +0.318455   -0.765307     1   % Hip.R         22
        +0.745373   -0.355826   +0.332592   -0.455182     22  % UpperLeg.R    23
        +0.996558   +0.082870   -0.001220   +0.001702     23  % LowerLeg.R    24
        +0.699380   -0.544072   -0.343137   +0.311624     24  % Foot.R        25
    ]';

    data = zeros(columns(result), 4*((rows(result)-1)/13 - fixedbodies) + 4);
    data(:, 1) = result'(:, 1);
    x = 13*fixedbodies+2;
    data(:, 2:4) = result'(:, x:x+2);
    for t=1:columns(result)
        for b=1:((rows(result)-1)/13 - fixedbodies)
            x = 13*(fixedbodies+b)-8;
            q1 = result(x:x+3, t);
            p = restquat(5, b);
            if (p == 0) q0 = [1;0;0;0]; else
                x = 13*(fixedbodies+p)-8;
                q0 = result(x:x+3, t);
            endif
            r = restquat(1:4, b);
            data(t, 4*b+1:4*b+4) = qmult(qinv(r), qmult(qinv(q0), q1))';
        endfor
    endfor
    
    save -text blenderdata data
    
endfunction
